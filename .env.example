# =============================================================================
# =============================================================================
# Alpha Trading Bot - 配置模板
# =============================================================================
# 此文件为配置模板，API密钥等敏感信息使用占位符
# 实际使用时复制此文件为 .env 并填入真实值
# 配置依赖关系见文件末尾
# =============================================================================
# 已自动清理废弃配置，保留所有自定义设置
# 配置依赖关系见文件末尾
# =============================================================================

# =============================================================================
# 交易所配置
# =============================================================================
OKX_API_KEY=your_okx_api_key_here
OKX_SECRET=your_okx_secret_here
OKX_PASSWORD=your_okx_password_here
OKX_SANDBOX=false                                    # 沙盒模式: true=测试环境, false=真实交易
# =============================================================================
# 交易基础配置
# =============================================================================
TEST_MODE=false                                    # 测试模式: true=模拟交易, false=真实交易
MAX_POSITION_SIZE=0.01                                     # 最大持仓量(张)
LEVERAGE=10                                       # 杠杆倍数
CYCLE_MINUTES=15                                       # 交易周期(分钟)
ALLOW_SHORT_SELLING=false                                    # 是否允许做空: true/false
RANDOM_OFFSET_ENABLED=true                                     # 启用随机时间偏移(防风控检测)
RANDOM_OFFSET_RANGE=180                                      # 随机偏移范围(秒)
LIMIT_ORDER_ENABLED=true                                     # 启用限价单: true/false
# =============================================================================
# 风控配置
# =============================================================================
MAX_DAILY_LOSS=100                                      # 最大日亏损限制(USDT)
MAX_POSITION_RISK=0.05                                     # 单笔交易最大风险比例
# =============================================================================
# 投资策略
# =============================================================================
INVESTMENT_TYPE=moderate                                 # 投资策略: conservative(稳健)/moderate(中等)/aggressive(激进)
TAKE_PROFIT_ENABLED=false                                    # 启用止盈功能
STOP_LOSS_ENABLED=true                                     # 启用止损功能
TAKE_PROFIT_MODE=smart                                    # 止盈模式: normal(固定)/smart(智能)
STOP_LOSS_MODE=smart                                    # 止损模式: normal(固定)/smart(智能)
# =============================================================================
# AI配置
# =============================================================================
AI_MODE=fusion                                   # AI模式: single(单AI)/fusion(多AI融合)
AI_DEFAULT_PROVIDER=deepseek                                 # 默认AI提供商: kimi/deepseek/qwen/openai
AI_MIN_CONFIDENCE=0.3                                      # AI最小置信度阈值
AI_TIMEOUT=30                                       # AI请求超时时间(秒)
AI_CACHE_DURATION=900                                      # AI响应缓存时间(秒)
AI_MAX_RETRIES=2                                        # AI请求最大重试次数
AI_FUSION_PROVIDERS=deepseek,qwen                            # AI融合提供商列表(逗号分隔)
AI_FUSION_STRATEGY=weighted                                 # 融合策略: consensus/weighted/majority/confidence
AI_FUSION_THRESHOLD=0.6                                      # 融合阈值
DEEPSEEK_API_KEY=your_deepseek_api_key_here
KIMI_API_KEY=your_kimi_api_key_here
QWEN_API_KEY=your_qwen_api_key_here
OPENAI_API_KEY=your_openai_api_key_here
# =============================================================================
# 系统配置
# =============================================================================
LOG_LEVEL=INFO                                     # 日志级别: DEBUG/INFO/WARNING/ERROR
ALPHA_PULSE_ONLY_MODE=false                        # AlphaPulse独立运行模式: true=仅实时监控, false=正常交易
ALPHA_PULSE_PRIMARY_MODE=true                      # AlphaPulse监控为主模式: true=buy/sell触发主流程, false=主流程按周期运行
# =============================================================================
# AlphaPulse实时监控
# =============================================================================
ALPHA_PULSE_ENABLED=false                                    # 启用AlphaPulse实时监控系统
ALPHA_PULSE_INTERVAL=60                                       # 监控间隔(秒)
ALPHA_PULSE_USE_AI=true                                     # AlphaPulse是否启用AI验证
ALPHA_PULSE_BUY_THRESHOLD=0.65                                     # BUY信号触发阈值(0.0-1.0)
ALPHA_PULSE_SELL_THRESHOLD=0.65                                     # SELL信号触发阈值(0.0-1.0)
ALPHA_PULSE_MIN_CONFIDENCE=0.70                                     # AlphaPulse AI最小置信度
ALPHA_PULSE_COOLDOWN_MINUTES=15                                       # 同交易对冷却时间(分钟)
FALLBACK_CRON_ENABLED=true                                     # 启用后备定时任务
ALPHA_PULSE_SYMBOLS=BTC/USDT:USDT                                      # 建议只监控 BTC，稳定后按需添加其他币种
ALPHA_PULSE_MAX_OHLCV_BARS=100                                      # K线数据最大存储量
ALPHA_PULSE_MAX_INDICATOR_HISTORY=20                                       # 指标历史最大存储量





# =============================================================================
# 配置依赖关系说明
# =============================================================================

## 1. AI 模式依赖 (AI_MODE)
# ─────────────────────────────────────────────────────────────────────────────
# AI_MODE=single (单AI模式)
#     └── AI_FUSION_* 配置 → 无效 (忽略)
#
# AI_MODE=fusion (多AI融合模式)
#     └── AI_FUSION_PROVIDERS → 必填 (至少一个)
#     └── AI_FUSION_STRATEGY → 可选 (默认 weighted)
#     └── AI_FUSION_THRESHOLD → 可选 (默认 0.6)

## 2. 止盈止损开关依赖
# ─────────────────────────────────────────────────────────────────────────────
# TAKE_PROFIT_ENABLED=false
#     └── TAKE_PROFIT_MODE → 无效
#
# STOP_LOSS_ENABLED=false
#     └── STOP_LOSS_MODE → 无效

## 3. AlphaPulse 依赖
# ─────────────────────────────────────────────────────────────────────────────
# ALPHA_PULSE_ENABLED=false
#     └── 所有 ALPHA_PULSE_* 配置 → 无效
#
# ALPHA_PULSE_USE_AI=true
#     └── AI_MODE 必须为 fusion (推荐) 或 single
#     └── AI_MIN_CONFIDENCE 必须 > 0
#
# ALPHA_PULSE_USE_AI=false
#     └── ALPHA_PULSE_MIN_CONFIDENCE → 无效
#     └── 仅依赖技术指标信号

## 4. 投资策略与止盈止损联动
# ─────────────────────────────────────────────────────────────────────────────
# INVESTMENT_TYPE=conservative (稳健型)
#     └── TAKE_PROFIT_MODE=smart (推荐)
#     └── STOP_LOSS_MODE=smart (推荐)
#
# INVESTMENT_TYPE=aggressive (激进型)
#     └── 建议 TAKE_PROFIT_ENABLED=true
#     └── 建议 STOP_LOSS_ENABLED=true

## 5. 限价单与交易周期
# ─────────────────────────────────────────────────────────────────────────────
# LIMIT_ORDER_ENABLED=true
#     └── CYCLE_MINUTES 可以较长 (15-30分钟)
#
# LIMIT_ORDER_ENABLED=false
#     └── 建议 CYCLE_MINUTES 较短 (5-15分钟)

## 6. 测试模式与风控
# ─────────────────────────────────────────────────────────────────────────────
# TEST_MODE=true (模拟交易)
#     └── MAX_DAILY_LOSS → 仍生效但不影响真实资金
#     └── MAX_POSITION_RISK → 仍生效但不影响真实资金
#
# TEST_MODE=false (真实交易)
#     └── MAX_DAILY_LOSS → 重要：限制真实亏损
#     └── MAX_POSITION_RISK → 重要：限制单笔风险

## 7. 随机偏移与防风控
# ─────────────────────────────────────────────────────────────────────────────
# RANDOM_OFFSET_ENABLED=true
#     └── RANDOM_OFFSET_RANGE 可以设置 60-300 (秒)
#
# RANDOM_OFFSET_ENABLED=false
#     └── 每次执行时间固定，易被风控检测

# =============================================================================
# 互斥配置 (二选一)
# =============================================================================
# 1. AI_MODE: single / fusion (不能同时)
# 2. TAKE_PROFIT_MODE: normal / smart (不能同时)
# 3. STOP_LOSS_MODE: normal / smart (不能同时)

# =============================================================================
# 必需配置
# =============================================================================
# 1. OKX_API_KEY / OKX_SECRET / OKX_PASSWORD → 连接交易所必需
# 2. AI_DEFAULT_PROVIDER → 单AI模式必需，需配置对应 API Key
# 3. AI_FUSION_PROVIDERS 中的每个提供商 → 需配置对应 API Key
# =============================================================================
